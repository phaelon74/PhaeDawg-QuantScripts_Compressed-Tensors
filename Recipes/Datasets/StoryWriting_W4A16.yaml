calibration_set:
  _templates:
    - role: system
      prompt: ""
      completion: ""
  # moderate context length to limit long-range quant errors
  max_seq_length: 2048
  shuffle: true
  seed: 42
  datasets:
    # Narrative Fiction (short/medium) — 128
    - dataset: euclaise/writingprompts
      split: train
      columns: [prompt, story]
      formatter: prompt_answer
      num_samples: 60
    - dataset: SimpleStories/SimpleStories
      split: train
      columns: [story]
      formatter: raw_text
      num_samples: 40
    - dataset: mintujupally/ROCStories
      split: train
      columns: [story]
      formatter: raw_text
      num_samples: 28

    # Dialogue & Character Voice — 77
    - dataset: ConvLab/dailydialog
      split: train
      columns: [dialogues]
      formatter: chat_completion
      num_samples: 40
    - dataset: cornell-movie-dialog/cornell_movie_dialog
      split: train
      columns: [line_text, character]
      formatter: chat_completion
      num_samples: 37

    # Creative Nonfiction — 51
    - dataset: iamketan25/essay-instructions-dataset
      split: train
      columns: [instruction, essay]
      formatter: prompt_answer
      num_samples: 26
    - dataset: nid989/EssayFroum-Dataset
      split: train
      columns: [prompt, essay]
      formatter: raw_text
      num_samples: 25

    # Genre Prompts — 51
    - dataset: fabraz/writingPromptAug
      split: train
      columns: [prompt, story]
      formatter: prompt_answer
      num_samples: 30
    - dataset: Gryphe/Opus-WritingPrompts
      split: train
      columns: [prompt, story]
      formatter: prompt_answer
      num_samples: 21

    # Instruction & Writing Advice — 102 (many short prompt->response)
    - dataset: databricks/databricks-dolly-15k
      split: train
      columns: [instruction, response]
      formatter: prompt_answer
      num_samples: 102

    # Roleplay / Improv — 51
    - dataset: Gryphe/Sonnet3.5-Charcard-Roleplay
      split: train
      columns: [conversation]
      formatter: sharegpt
      num_samples: 51

    # General Chat / Conversational — 26
    - dataset: awsaf49/persona-chat
      split: train
      columns: [persona, conversation]
      formatter: chat_completion
      num_samples: 26

    # Misc / Knowledge — 26
    - dataset: lucadiliello/triviaqa
      split: train
      columns: [question, answer]
      formatter: prompt_answer
      num_samples: 26

